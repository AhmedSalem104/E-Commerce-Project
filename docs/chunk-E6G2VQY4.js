import{a as O}from"./chunk-D4A3WLX3.js";import{a as P}from"./chunk-ADGXM26Q.js";import{l as U}from"./chunk-ADMVPZPW.js";import{i as I}from"./chunk-OQDS24CR.js";import{n as E}from"./chunk-VCBYZZMY.js";import{$b as D,Ab as y,Eb as _,Fb as m,Mb as l,Nb as v,Sa as f,Tb as T,Vb as k,Wa as a,Zb as F,da as d,fb as C,ga as x,lb as b,nb as u,qa as p,ra as h,rb as S,sb as w,tb as L,ub as W,vb as n,wb as s,xb as g}from"./chunk-Y44U2H2M.js";var V=i=>["/ProductDetails",i];function A(i,r){if(i&1){let o=y();n(0,"div",4)(1,"a",5),g(2,"img",6),s(),n(3,"div",7)(4,"h3",8),l(5),s(),n(6,"span",9),l(7),F(8,"currency"),s(),n(9,"div",10)(10,"button",11),_("click",function(){let t=p(o).$implicit,c=m(2);return h(c.addToCart(t._id))}),l(11," Add to Cart "),s(),n(12,"button",12),_("click",function(){let t=p(o).$implicit,c=m(2);return h(c.RemoveFromWishList(t._id))}),g(13,"i",13),s()()()()}if(i&2){let o=r.$implicit;a(),u("routerLink",k(7,V,o._id)),a(),u("src",o.imageCover,f),a(3),v(o.title.split(" ").splice(0,2).join(" ")),a(2),v(D(8,4,o.price,"EGP"))}}function R(i,r){if(i&1&&L(0,A,14,9,"div",4,w),i&2){let o=m();W(o.wishListData())}}var q=(()=>{let r=class r{constructor(){this.wishListData=C([]),this._WishlistService=d(O),this._ToastrService=d(U),this._CartService=d(P)}ngOnInit(){this.getLoggedUserWishlist()}getLoggedUserWishlist(){this.StopApi=this._WishlistService.GetLoggedUserWishlist().subscribe({next:e=>{this.wishListData.set(e.data),this._WishlistService.wishListCount.set(e.count)}})}RemoveFromWishList(e){this._WishlistService.RemoveProductFromWishlist(e).subscribe({next:t=>{localStorage.setItem("ProdcuctIdsWishListArr",JSON.stringify(t.data)),this._WishlistService.wishListCount.set(t.count),this.getLoggedUserWishlist()}})}addToCart(e){this._CartService.addProductToCart(e).subscribe({next:t=>{this.addToCartSuccess(t.message),this._CartService.CartCount.set(t.numOfCartItems)}})}addToCartSuccess(e){this._ToastrService.success("",`${e}`,{timeOut:2e3})}ngOnDestroy(){this.StopApi.unsubscribe()}};r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=x({type:r,selectors:[["app-wish-list"]],standalone:!0,features:[T],decls:6,vars:1,consts:[[1,"container","mx-auto","p-6"],[1,"text-4xl","font-bold","mb-8","text-center","main-color"],[1,"bg-gray-100","p-6","rounded-lg","shadow-lg"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","xl:grid-cols-5","gap-6"],[1,"border","rounded-lg","overflow-hidden","shadow-lg","bg-white","hover:shadow-2xl","transition-shadow","duration-300"],[1,"block",3,"routerLink"],["alt","Product Image",1,"w-full","h-64","object-cover",3,"src"],[1,"p-4"],[1,"text-lg","font-semibold","mb-2","truncate"],[1,"text-lg","font-bold","text-green-600"],[1,"mt-4","flex","flex-col","sm:flex-row","gap-2"],[1,"bg-blue-500","text-white","rounded-lg","hover:bg-blue-600","py-2","px-4","transition-colors","duration-300",3,"click"],[1,"bg-red-500","text-white","rounded-lg","hover:bg-red-600","py-2","px-4","transition-colors","duration-300",3,"click"],[1,"fa","fa-trash"]],template:function(t,c){t&1&&(n(0,"div",0)(1,"h2",1),l(2,"My Wishlist"),s(),n(3,"div",2)(4,"div",3),b(5,R,2,0),s()()()),t&2&&(a(5),S(5,c.wishListData()?5:-1))},dependencies:[E,I]});let i=r;return i})();export{q as WishListComponent};
