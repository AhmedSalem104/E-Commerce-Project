import{a as L}from"./chunk-MPCPW2LT.js";import{a as M,b as g,c as N,d as q,h as R,i as B,j as A,k as G,l as W,m as D}from"./chunk-AOKGKR5S.js";import{l as j}from"./chunk-ADMVPZPW.js";import"./chunk-G5KA7DMQ.js";import{h as V}from"./chunk-OQDS24CR.js";import{h as T}from"./chunk-VCBYZZMY.js";import{Ab as v,Eb as F,Fb as p,Mb as d,Pb as h,Qb as E,Rb as P,Tb as k,Wa as s,Wb as x,da as y,ga as S,lb as u,nb as _,qa as f,ra as C,rb as c,vb as n,wb as r,xb as w}from"./chunk-Y44U2H2M.js";var b=(i,l)=>({"is-valid":i,"is-invalid":l});function O(i,l){i&1&&(n(0,"p"),d(1,"Email is Required"),r())}function I(i,l){i&1&&(n(0,"p"),d(1,"Enter Valid Email "),r())}function U(i,l){if(i&1&&(n(0,"div",7),u(1,O,2,0,"p")(2,I,2,0),r()),i&2){let e,o=p(2);s(),c(1,(e=o.verfiyEmailForm.get("email"))!=null&&e.getError("required")?1:(e=o.verfiyEmailForm.get("email"))!=null&&e.getError("email")?2:-1)}}function z(i,l){i&1&&(n(0,"span",10),d(1,"Verfiy Email"),r(),n(2,"span"),w(3,"i",11),r())}function H(i,l){i&1&&(n(0,"span"),d(1,"Verfiy Email"),r())}function J(i,l){if(i&1){let e=v();n(0,"div",0)(1,"h1",1),d(2,"Verfiy Email"),r(),n(3,"form",2),F("ngSubmit",function(){f(e);let t=p();return C(t.verfiyEmailSubmit())}),n(4,"div")(5,"label",3),d(6,"email : "),r(),n(7,"input",4),P("ngModelChange",function(t){f(e);let m=p();return E(m.Email,t)||(m.Email=t),C(t)}),r(),n(8,"div",5)(9,"strong",6),d(10," Enter a real email, not a fake one."),r()(),u(11,U,3,1,"div",7),r(),n(12,"div",8)(13,"button",9),u(14,z,4,0)(15,H,2,0),r()()()()}if(i&2){let e,o,t=p();s(3),_("formGroup",t.verfiyEmailForm),s(4),_("ngClass",x(6,b,!((e=t.verfiyEmailForm.get("email"))!=null&&e.errors)&&(((e=t.verfiyEmailForm.get("email"))==null?null:e.touched)||((e=t.verfiyEmailForm.get("email"))==null?null:e.dirty)),((e=t.verfiyEmailForm.get("email"))==null?null:e.errors)&&(((e=t.verfiyEmailForm.get("email"))==null?null:e.touched)||((e=t.verfiyEmailForm.get("email"))==null?null:e.dirty)))),h("ngModel",t.Email),s(4),c(11,(o=t.verfiyEmailForm.get("email"))!=null&&o.errors&&((o=t.verfiyEmailForm.get("email"))!=null&&o.touched||(o=t.verfiyEmailForm.get("email"))!=null&&o.dirty)?11:-1),s(2),_("disabled",t.verfiyEmailForm.invalid||t.isLoading),s(),c(14,t.isLoading?14:15)}}function K(i,l){i&1&&(n(0,"p"),d(1,"Code is Required"),r())}function Q(i,l){if(i&1&&(n(0,"div",7),u(1,K,2,0,"p"),r()),i&2){let e,o=p(2);s(),c(1,(e=o.verfiyCodeForm.get("resetCode"))!=null&&e.getError("required")?1:-1)}}function X(i,l){i&1&&(n(0,"span",10),d(1,"Verfiy Code"),r(),n(2,"span"),w(3,"i",11),r())}function Y(i,l){i&1&&(n(0,"span"),d(1,"Verfiy Code"),r())}function Z(i,l){if(i&1){let e=v();n(0,"div",0)(1,"h1",1),d(2,"Verfiy Code"),r(),n(3,"form",12),F("ngSubmit",function(){f(e);let t=p();return C(t.verfiyCodeSubmit())}),n(4,"div")(5,"label",13),d(6,"Code : "),r(),w(7,"input",14),u(8,Q,2,1,"div",7),r(),n(9,"div",8)(10,"button",9),u(11,X,4,0)(12,Y,2,0),r()()()()}if(i&2){let e,o,t=p();s(3),_("formGroup",t.verfiyCodeForm),s(4),_("ngClass",x(5,b,!((e=t.verfiyCodeForm.get("resetCode"))!=null&&e.errors)&&(((e=t.verfiyCodeForm.get("resetCode"))==null?null:e.touched)||((e=t.verfiyCodeForm.get("resetCode"))==null?null:e.dirty)),((e=t.verfiyCodeForm.get("resetCode"))==null?null:e.errors)&&(((e=t.verfiyCodeForm.get("resetCode"))==null?null:e.touched)||((e=t.verfiyCodeForm.get("resetCode"))==null?null:e.dirty)))),s(),c(8,(o=t.verfiyCodeForm.get("resetCode"))!=null&&o.errors&&((o=t.verfiyCodeForm.get("resetCode"))!=null&&o.touched||(o=t.verfiyCodeForm.get("resetCode"))!=null&&o.dirty)?8:-1),s(2),_("disabled",t.verfiyCodeForm.invalid||t.isLoading),s(),c(11,t.isLoading?11:12)}}function $(i,l){i&1&&(n(0,"p"),d(1,"Email is Required"),r())}function ee(i,l){i&1&&(n(0,"p"),d(1,"Enter Valid Email "),r())}function te(i,l){if(i&1&&(n(0,"div",7),u(1,$,2,0,"p")(2,ee,2,0),r()),i&2){let e,o=p(2);s(),c(1,(e=o.resetPasswordFrom.get("email"))!=null&&e.getError("required")?1:(e=o.resetPasswordFrom.get("email"))!=null&&e.getError("email")?2:-1)}}function ie(i,l){i&1&&(n(0,"p"),d(1,"password is Required"),r())}function oe(i,l){i&1&&(n(0,"p"),d(1,"must be at least 6 chars"),r())}function re(i,l){if(i&1&&(n(0,"div",7),u(1,ie,2,0,"p")(2,oe,2,0),r()),i&2){let e,o=p(2);s(),c(1,(e=o.resetPasswordFrom.get("newPassword"))!=null&&e.getError("required")?1:(e=o.resetPasswordFrom.get("newPassword"))!=null&&e.getError("pattern")?2:-1)}}function ne(i,l){i&1&&(n(0,"span",10),d(1,"Change Password"),r(),n(2,"span"),w(3,"i",11),r())}function le(i,l){i&1&&(n(0,"span"),d(1,"Change Password "),r())}function ae(i,l){if(i&1){let e=v();n(0,"div",0)(1,"h1",1),d(2,"Enter New Password "),r(),n(3,"form",12),F("ngSubmit",function(){f(e);let t=p();return C(t.ResetPasswordSubmit())}),n(4,"div")(5,"label",3),d(6,"email : "),r(),n(7,"input",15),P("ngModelChange",function(t){f(e);let m=p();return E(m.Email,t)||(m.Email=t),C(t)}),r(),u(8,te,3,1,"div",7),r(),n(9,"div")(10,"label",3),d(11,"newPassword : "),r(),w(12,"input",16),u(13,re,3,1,"div",7),r(),n(14,"div",8)(15,"button",9),u(16,ne,4,0)(17,le,2,0),r()()()()}if(i&2){let e,o,t,m,a=p();s(3),_("formGroup",a.resetPasswordFrom),s(4),_("ngClass",x(8,b,!((e=a.resetPasswordFrom.get("email"))!=null&&e.errors)&&(((e=a.resetPasswordFrom.get("email"))==null?null:e.touched)||((e=a.resetPasswordFrom.get("email"))==null?null:e.dirty)),((e=a.resetPasswordFrom.get("email"))==null?null:e.errors)&&(((e=a.resetPasswordFrom.get("email"))==null?null:e.touched)||((e=a.resetPasswordFrom.get("email"))==null?null:e.dirty)))),h("ngModel",a.Email),s(),c(8,(o=a.resetPasswordFrom.get("email"))!=null&&o.errors&&((o=a.resetPasswordFrom.get("email"))!=null&&o.touched||(o=a.resetPasswordFrom.get("email"))!=null&&o.dirty)?8:-1),s(4),_("ngClass",x(11,b,!((t=a.resetPasswordFrom.get("newPassword"))!=null&&t.errors)&&(((t=a.resetPasswordFrom.get("newPassword"))==null?null:t.touched)||((t=a.resetPasswordFrom.get("newPassword"))==null?null:t.dirty)),((t=a.resetPasswordFrom.get("newPassword"))==null?null:t.errors)&&(((t=a.resetPasswordFrom.get("newPassword"))==null?null:t.touched)||((t=a.resetPasswordFrom.get("newPassword"))==null?null:t.dirty)))),s(),c(13,(m=a.resetPasswordFrom.get("newPassword"))!=null&&m.errors&&((m=a.resetPasswordFrom.get("newPassword"))!=null&&m.touched||(m=a.resetPasswordFrom.get("newPassword"))!=null&&m.dirty)?13:-1),s(2),_("disabled",a.resetPasswordFrom.invalid||a.isLoading),s(),c(16,a.isLoading?16:17)}}var Ce=(()=>{let l=class l{constructor(){this.step=1,this.isLoading=!1,this.Email="",this._FormBuilder=y(G),this._AuthService=y(L),this._Router=y(V),this._ToastrService=y(j),this.verfiyEmailForm=this._FormBuilder.group({email:[null,[g.required,g.email]]}),this.verfiyCodeForm=this._FormBuilder.group({resetCode:[null,[g.required]]}),this.resetPasswordFrom=this._FormBuilder.group({email:[null,[g.required,g.email]],newPassword:[null,[g.required,g.pattern(/^\w{6,}$/)]]})}verfiyEmailSubmit(){console.log(this.Email),this.isLoading=!0,this._AuthService.setEmailVerfiy(this.verfiyEmailForm.value).subscribe({next:o=>{o.statusMsg==="success"&&(this.showNextStep(`${o.message}`),this.isLoading=!1,this.step=2)},error:o=>{this.isLoading=!1}})}verfiyCodeSubmit(){console.log(this.Email),this.isLoading=!0,this._AuthService.setCodeVerfiy(this.verfiyCodeForm.value).subscribe({next:o=>{o.status==="Success"&&(this.showNextStep("Enter new Password "),this.isLoading=!1,this.step=3)},error:o=>{this.isLoading=!1}})}ResetPasswordSubmit(){console.log(this.Email),this.showSuccess(),this.isLoading=!0,this._AuthService.setResetPassword(this.resetPasswordFrom.value).subscribe({next:o=>{this.isLoading=!1,localStorage.setItem("userToken",o.token),this._AuthService.saveUserData(),this._Router.navigate(["/home"])},error:o=>{this.isLoading=!1}})}showNextStep(o){this._ToastrService.info("",`${o}`,{timeOut:5e3,positionClass:"toast-top-center"})}showSuccess(){this._ToastrService.success("","Success Welcome \u263A..!",{timeOut:1200,positionClass:"toast-top-center"})}};l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=S({type:l,selectors:[["app-forget-password"]],standalone:!0,features:[k],decls:3,vars:1,consts:[[1,"w-6/12","mx-auto","shadow","p-5","mb-10","mt-10"],[1,"text-2xl","py-3","main-color","font-semibold"],[1,"pt-2","pb-10",3,"ngSubmit","formGroup"],["for",""],["type","email","id","email","formControlName","email",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngClass","ngModel"],["role","alert",1,"main-color","px-1","py-2","mb-5","relative","text-center"],[1,"font-bold"],[1,"bg-red-200","p-2","mt-2","mb-3","rounded"],[1,"flex","items-center","justify-end","gap-4"],["type","submit","title","Enter data in Form For Enable Button",1,"link-style","mt-2","mb-2",3,"disabled"],[1,"pr-1"],[1,"fa","fa-spinner","fa-spin"],[1,"pt-10","pb-10",3,"ngSubmit","formGroup"],["for","resetCode"],["type","text","id","resetCode","formControlName","resetCode",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngClass"],["type","email","id","email","readonly","","formControlName","email",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngClass","ngModel"],["type","password","id","newPassword","formControlName","newPassword",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngClass"]],template:function(t,m){t&1&&u(0,J,16,9,"div",0)(1,Z,13,8)(2,ae,18,14),t&2&&c(0,m.step==1?0:m.step==2?1:m.step==3?2:-1)},dependencies:[D,R,M,N,q,B,A,W,T]});let i=l;return i})();export{Ce as ForgetPasswordComponent};
