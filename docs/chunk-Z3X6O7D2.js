import{a as D}from"./chunk-76KRINQL.js";import"./chunk-G5KA7DMQ.js";import{h as F}from"./chunk-OQDS24CR.js";import{m as M,n as T}from"./chunk-VCBYZZMY.js";import{$b as _,Ab as w,Eb as O,Fb as p,Mb as n,Ob as a,Sa as I,Tb as A,Wa as r,Zb as x,da as u,ga as b,lb as m,nb as P,qa as S,ra as E,rb as s,sa as y,sb as v,tb as h,ub as f,vb as i,wb as e,xb as C}from"./chunk-Y44U2H2M.js";function k(o,l){if(o&1&&(C(0,"img",18),i(1,"div",19)(2,"h5",20)(3,"span",9),n(4,"Title :"),e(),n(5),e(),i(6,"p",6)(7,"span",9),n(8,"Price :"),e(),n(9),x(10,"currency"),e(),i(11,"p",6)(12,"span",9),n(13,"Quantity :"),e(),n(14),e()()),o&2){let t=p(2).$implicit;P("src",t.product==null?null:t.product.imageCover,I),r(5),a(" ",t.product==null?null:t.product.title.split(" ").splice(0,2).join(" "),""),r(4),a(" ",_(10,4,t.price,"EGP"),""),r(5),a(" ",t.count,"")}}function j(o,l){o&1&&(i(0,"div")(1,"p",6),n(2,"Product details not available"),e()())}function $(o,l){if(o&1&&(i(0,"div",16)(1,"div",17),m(2,k,15,7)(3,j,3,0),e()()),o&2){let t=p().$implicit;r(2),s(2,t.product?2:3)}}function B(o,l){if(o&1){let t=w();i(0,"div",10)(1,"button",11),O("click",function(){let c=S(t).$implicit,g=p(3);return E(g.toggleAccordion(c._id))}),i(2,"span",12),n(3),e(),i(4,"span",13),y(),i(5,"svg",14),C(6,"path",15),e()()(),m(7,$,4,1,"div",16),e()}if(o&2){let t=l.$implicit,d=l.$index,c=p(3);r(3),a("Item ",d+1,""),r(4),s(7,c.isOpen(t._id)?7:-1)}}function U(o,l){if(o&1&&(i(0,"div",3)(1,"div",4)(2,"h3",5),n(3,"Order"),e(),i(4,"p",6),n(5),x(6,"date"),e(),i(7,"p",6),n(8),x(9,"currency"),e(),i(10,"p",6),n(11),e(),i(12,"p",6),n(13),e(),i(14,"p",6),n(15),e()(),i(16,"div",7)(17,"h4",8),n(18,"User Information"),e(),i(19,"p",6),n(20),e(),i(21,"p",6),n(22),e(),i(23,"p",6),n(24),e()(),i(25,"div",7)(26,"h4",8),n(27,"Shipping Address"),e(),i(28,"p",6),n(29),e(),i(30,"p",6),n(31),e(),i(32,"p",6),n(33),e()(),i(34,"div")(35,"h4",8),n(36,"Cart Items "),i(37,"span",9),n(38),e()(),h(39,B,8,2,"div",10,v),e()()),o&2){let t=l.$implicit;r(5),a("Date Created: ",_(6,12,t.createdAt,"short"),""),r(3),a("Total Price: ",_(9,15,t.totalOrderPrice,"EGP"),""),r(3),a("Payment Method: ",t.paymentMethodType,""),r(2),a("Paid: ",t.isPaid?"Yes":"No",""),r(2),a("Delivered: ",t.isDelivered?"Yes":"No",""),r(5),a("Name: ",t.user.name,""),r(2),a("Email: ",t.user.email,""),r(2),a("Phone: ",t.user.phone,""),r(5),a("Details: ",t.shippingAddress.details,""),r(2),a("Phone: ",t.shippingAddress.phone,""),r(2),a("City: ",t.shippingAddress.city,""),r(5),a(" ",t.cartItems.length,""),r(),f(t.cartItems)}}function V(o,l){if(o&1&&(i(0,"div",0)(1,"h2",1),n(2,"Orders"),e(),i(3,"div",2),h(4,U,41,18,"div",3,v),e()()),o&2){let t=p();r(4),f(t.OrderData)}}var q=(()=>{let l=class l{constructor(){this._OrderService=u(D),this._Router=u(F),this.openItems=new Set}ngOnInit(){this.UserData=this._OrderService.decodeToken(),this.fetchAPi(this.UserData.id)}fetchAPi(d){this._OrderService.getUserorders(d).subscribe({next:c=>{console.log(c),this.OrderData=c}})}toggleAccordion(d){this.openItems.has(d)?this.openItems.delete(d):this.openItems.add(d)}isOpen(d){return this.openItems.has(d)}};l.\u0275fac=function(c){return new(c||l)},l.\u0275cmp=b({type:l,selectors:[["app-allorders"]],standalone:!0,features:[A],decls:1,vars:1,consts:[[1,"container","mx-auto","p-6"],[1,"text-4xl","font-bold","mb-8","text-center","main-color"],[1,"grid","grid-cols-1","lg:grid-cols-1","gap-6"],[1,"bg-gray-200","shadow-md","rounded-lg","p-6"],[1,"border-b","border-gray-300","pb-4","mb-4"],[1,"text-2xl","font-bold","mb-2"],[1,"text-gray-600"],[1,"mb-4"],[1,"text-xl","font-semibold","mb-2"],[1,"main-color"],[1,"border","rounded-lg","mb-4","bg-gray-50","shadow-sm"],[1,"w-full","flex","justify-between","items-center","px-4","py-2","bg-gray-100","text-left",3,"click"],[1,"font-semibold"],[1,"text-gray-500"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"p-4"],[1,"flex","items-center","space-x-4"],["alt","Product Image",1,"w-24","h-24","object-cover","rounded-lg",3,"src"],[1,"flex-1"],[1,"text-lg","font-semibold","mb-1"]],template:function(c,g){c&1&&m(0,V,6,0,"div",0),c&2&&s(0,g.OrderData?0:-1)},dependencies:[T,M],styles:[".container[_ngcontent-%COMP%]{max-width:1200px}.bg-gray-50[_ngcontent-%COMP%]{background-color:#f9fafb}.shadow-md[_ngcontent-%COMP%]{box-shadow:0 4px 6px #0000001a}.shadow-sm[_ngcontent-%COMP%]{box-shadow:0 1px 2px #0000000d}.border-gray-300[_ngcontent-%COMP%]{border-color:#d2d6dc}.text-gray-600[_ngcontent-%COMP%]{color:#718096}.text-gray-800[_ngcontent-%COMP%]{color:#4a5568}.object-cover[_ngcontent-%COMP%]{object-fit:cover}.rounded-lg[_ngcontent-%COMP%]{border-radius:.5rem}"]});let o=l;return o})();export{q as AllordersComponent};
