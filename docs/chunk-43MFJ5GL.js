import{a as U,b as V,c as z}from"./chunk-7UUDRASE.js";import{a as L}from"./chunk-VQ4FM2NM.js";import{a as R}from"./chunk-ADGXM26Q.js";import{l as $}from"./chunk-ADMVPZPW.js";import{f as E,h as F,i as j}from"./chunk-OQDS24CR.js";import"./chunk-VCBYZZMY.js";import{Ab as D,Da as I,Eb as y,Fb as d,Mb as l,Nb as O,Ob as g,Sa as _,Tb as M,Ub as k,Vb as A,Wa as r,Xa as h,da as u,fb as w,ga as T,lb as p,nb as c,qa as C,ra as v,rb as x,sb as P,tb as b,ub as S,vb as a,wb as s,xb as m}from"./chunk-Y44U2H2M.js";var B=()=>[1,2,3,4,5],G=t=>["/Orders",t];function H(t,o){if(t&1&&m(0,"img",7,0),t&2){let e=d(2);c("src",e.ProductDetails.data.images[0],_)}}function q(t,o){if(t&1&&m(0,"img",7,0),t&2){let e=d(2);c("src",e.mainSrcImage,_)}}function J(t,o){if(t&1){let e=D();a(0,"div")(1,"img",27,1),y("click",function(){C(e);let n=d().$implicit,f=d(2);return v(f.getSrc(n))}),s()()}if(t&2){let e=d().$implicit;r(),c("src",e,_)}}function K(t,o){t&1&&p(0,J,3,1,"ng-template",13)}function N(t,o){t&1&&m(0,"i",22)}function Q(t,o){t&1&&m(0,"i",23)}function W(t,o){if(t&1){let e=D();a(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6),p(5,H,2,1,"img",7)(6,q,2,1),s()(),a(7,"div"),m(8,"hr",8),s(),a(9,"div",9)(10,"div",10)(11,"div",11)(12,"owl-carousel-o",12),b(13,K,1,0,null,13,P),s()()(),a(15,"div",14)(16,"h1",15),l(17),s(),a(18,"p",16),l(19),s(),a(20,"div",17)(21,"span",18),l(22),s()(),a(23,"div",17)(24,"span",19),l(25),a(26,"span",20),l(27," EGP"),s()(),a(28,"div",21),b(29,N,1,0,"i",22,P),p(31,Q,1,0,"i",23),a(32,"span",24),l(33),s()()(),a(34,"button",25),y("click",function(){C(e);let n=d();return v(n.addToCart(n.ProductDetails.data._id))}),l(35," Add to Cart "),s(),a(36,"button",26),l(37,"Checkout"),s()()()()()()}if(t&2){let e=d();r(5),x(5,e.mainSrcImage==""?5:6),r(7),c("options",e.customOptionsMain),r(),S(e.ProductDetailsImages),r(4),g(" ",e.ProductDetails.data.title.split(" ").splice(0,5).join(" "),""),r(2),g(" ",e.ProductDetails.data.description," "),r(3),g(" ",e.ProductDetails.data.category.name,""),r(3),g(" ",e.ProductDetails.data.price,""),r(4),S(k(9,B).slice(0,e.ProductDetails.data.ratingsAverage)),r(2),x(31,e.ProductDetails.data.ratingsAverage%1!==0?31:-1),r(2),O(e.ProductDetails.data.ratingsAverage),r(3),c("routerLink",A(10,G,e.data()._id))}}var st=(()=>{let o=class o{getSrc(i){this.mainSrcImage=i}constructor(i,n){this._ActivatedRoute=i,this._ProductsService=n,this.Id=u(I),this._Router=u(F),this._CartService=u(R),this._ToastrService=u($),this.data=w({}),this.mainSrcImage="",this.ProductDetailsloadingClass="hidden",this.customOptionsMain={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,autoplay:!0,rtl:!0,margin:5,autoplayTimeout:6e3,autoplayHoverPause:!0,dots:!1,navSpeed:700,navText:['<i class="fa-solid fa-angles-left main-color"></i>','<i class="fa-solid fa-angles-right main-color"></i>'],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:4}},nav:!0}}ngOnInit(){this.getLoggedUserCart(),this.ProductDetailsloadingClass="flex",this._ActivatedRoute.paramMap.subscribe({next:i=>{this.goProductDetails(i.get("id"))}})}goProductDetails(i){this.stopApi=this._ProductsService.getSpecificProduct(i).subscribe({next:n=>{this.ProductDetailsloadingClass="hidden",this.ProductDetails=n,this.ProductDetailsImages=n.data.images}})}getLoggedUserCart(){this.StopApi=this._CartService.getLoggedUserCart().subscribe({next:i=>{this.data.set(i.data)}})}addToCart(i){this._CartService.addProductToCart(i).subscribe({next:n=>{this._CartService.CartCount.set(n.numOfCartItems),this.addToCartSuccess(n.message)}})}addToCartSuccess(i){this._ToastrService.success("",`${i}`,{timeOut:2e3})}addToCartFaild(i){this._ToastrService.error("",`${i}`,{timeOut:2e3})}ngOnDestroy(){this.stopApi?.unsubscribe()}};o.\u0275fac=function(n){return new(n||o)(h(E),h(L))},o.\u0275cmp=T({type:o,selectors:[["app-product-details"]],standalone:!0,features:[M],decls:1,vars:1,consts:[["mainImage",""],["sliderImage",""],[1,"container","mx-auto","p-6"],[1,"shadow-[0px_0px_4px_1px_#a0aec0]","rounded"],[1,"flex","flex-col","md:flex-row"],[1,"flex-none","w-full","md:w-4/12","p-4"],[1,"main-image","h-full"],["alt","Product Image",1,"w-full","h-full","object-cover","border","border-gray-300","rounded-lg",3,"src"],[1,"h-px","my-2","bg-gray-400","border-0","dark:bg-gray-700"],[1,"flex-1","flex","flex-col"],[1,"p-2","flex-1","order-first","md:order-2"],[1,"grid","grid-cols-1"],[3,"options"],["carouselSlide",""],[1,"p-4","flex-1","order-last","md:order-1","mb-5"],[1,"text-3xl","font-bold","mb-4"],[1,"text-gray-700","mb-6"],[1,"RatingAndPrice","mt-5","flex","items-center","justify-between","w-full"],[1,"main-color","text-xl","font-bold"],[1,"main-color","text-l","font-bold"],[1,"text-gray-900"],[1,"flex","items-center"],[1,"fas","fa-star","text-yellow-500"],[1,"fa-solid","fa-star-half-stroke","text-yellow-500"],[1,"text-l","font-semibold"],[1,"btn-main","py-2","px-4","mt-5",3,"click"],[1,"py-2","px-4","mt-5","bg-blue-500","text-white","p-3","rounded",3,"routerLink"],["alt","Product Image Details",1,"sup-image","w-full","h-48","object-cover","border","border-gray-300","rounded-lg",3,"click","src"]],template:function(n,f){n&1&&p(0,W,38,12,"div",2),n&2&&x(0,f.ProductDetails?0:-1)},dependencies:[z,V,U,j],styles:['.main-image[_ngcontent-%COMP%], .sup-image[_ngcontent-%COMP%]{cursor:pointer}.loading[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#6d6d6d00;justify-items:center;align-items:center;z-index:999}.main[_ngcontent-%COMP%]{min-height:620px}.loader[_ngcontent-%COMP%]{width:50px;aspect-ratio:1;border-radius:50%;border:8px solid rgba(0,0,0,0);border-right-color:#00ad0a;position:relative;animation:_ngcontent-%COMP%_l24 1s infinite linear}.loader[_ngcontent-%COMP%]:before, .loader[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:-8px;border-radius:50%;border:inherit;animation:inherit;animation-duration:2s}.loader[_ngcontent-%COMP%]:after{animation-duration:4s}@keyframes _ngcontent-%COMP%_l24{to{transform:rotate(1turn)}}']});let t=o;return t})();export{st as ProductDetailsComponent};
