

<div class="container mx-auto px-4 md:px-6 lg:px-8">
    <div class="w-full max-w-4xl mx-auto shadow p-5 mb-10 mt-10 bg-white">
        <h1 class="text-xl sm:text-2xl pt-6 sm:pt-10 main-color font-semibold ">Register </h1>
        <form class="pt-6 sm:pt-10 pb-10" [formGroup]="RegisterForm" (ngSubmit)="submitRegisterForm()">
            <!-- Name Field -->
            <div class="mb-5">
                <label for="name" class="block mb-1 text-sm font-medium">Name:</label>
                <input [ngClass]="{
                    'is-valid': !RegisterForm.get('name')?.errors && (RegisterForm.get('name')?.touched || RegisterForm.get('name')?.dirty),
                    'is-invalid': RegisterForm.get('name')?.errors && (RegisterForm.get('name')?.touched || RegisterForm.get('name')?.dirty)
                }" type="text" id="name" formControlName="name"
                    class="w-full p-2.5 text-sm rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 bg-gray-50">
    
                @if(RegisterForm.get('name')?.errors && (RegisterForm.get('name')?.touched ||
                RegisterForm.get('name')?.dirty)){
                <div class="bg-red-200  p-2 mt-2 mb-3 rounded">
                    @if(RegisterForm.get('name')?.getError('required')){
                    <p>name is requierd</p>
                    }
                    @else if (RegisterForm.get('name')?.getError('minlength')){
                    <p>Name Should be more than or equal 3 chars</p>
                    }
                    @else if (RegisterForm.get('name')?.getError('maxlength')){
                    <p>Name Should be less than or equal 20 chars </p>
                    }
                </div>
                }
            </div>
    
            <!-- Email Field -->
            <div class="mb-5">
                <label for="email" class="block mb-1 text-sm font-medium">Email:</label>
                <input [ngClass]="{
                    'is-valid': !RegisterForm.get('email')?.errors && (RegisterForm.get('email')?.touched || RegisterForm.get('email')?.dirty),
                    'is-invalid': RegisterForm.get('email')?.errors && (RegisterForm.get('email')?.touched || RegisterForm.get('email')?.dirty)
                }" type="email" id="email" formControlName="email"
                    class="w-full p-2.5 text-sm rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 bg-gray-50">
    
                @if(RegisterForm.get('email')?.errors && (RegisterForm.get('email')?.touched ||
                RegisterForm.get('email')?.dirty)){
                <div class="bg-red-200  p-2 mt-2 mb-3 rounded">
                    @if(RegisterForm.get('email')?.getError('required')){
                    <p>Email is Required</p>
                    }
                    @else if(RegisterForm.get('email')?.getError('email')){
                    <p>Enter Valid Email </p>
                    }
                </div>
                }
            </div>
    
            <!-- Phone Field -->
            <div class="mb-5">
                <label for="phone" class="block mb-1 text-sm font-medium">Phone:</label>
                <input [ngClass]="{
                    'is-valid': !RegisterForm.get('phone')?.errors && (RegisterForm.get('phone')?.touched || RegisterForm.get('phone')?.dirty),
                    'is-invalid': RegisterForm.get('phone')?.errors && (RegisterForm.get('phone')?.touched || RegisterForm.get('phone')?.dirty)
                }" type="tel" id="phone" formControlName="phone"
                    class="w-full p-2.5 text-sm rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 bg-gray-50">
    
                @if(RegisterForm.get('phone')?.errors && (RegisterForm.get('phone')?.touched ||
                RegisterForm.get('phone')?.dirty)){
                <div class="bg-red-200  p-2 mt-2 mb-3 rounded">
                    @if(RegisterForm.get('phone')?.getError('required')){
                    <p>phone is Required</p>
                    }
                    @else if(RegisterForm.get('phone')?.getError('pattern')){
                    <p>accept only egypt phone numbers</p>
    
                    }
                </div>
                }
            </div>
    
            <!-- Password Field -->
            <div class="mb-5">
                <label for="password" class="block mb-1 text-sm font-medium">Password:</label>
                <input [ngClass]="{
                    'is-valid': !RegisterForm.get('password')?.errors && (RegisterForm.get('password')?.touched || RegisterForm.get('password')?.dirty),
                    'is-invalid': RegisterForm.get('password')?.errors && (RegisterForm.get('password')?.touched || RegisterForm.get('password')?.dirty)
                }" type="password" id="password" formControlName="password"
                    class="w-full p-2.5 text-sm rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 bg-gray-50">
    
                @if(RegisterForm.get('password')?.errors && (RegisterForm.get('password')?.touched ||
                RegisterForm.get('password')?.dirty)){
                <div class="bg-red-200  p-2 mt-2 mb-3 rounded">
                    @if(RegisterForm.get('password')?.getError('required')){
                    <p>password is Required</p>
                    }
                    @else if(RegisterForm.get('password')?.getError('pattern')){
                    <p>must be at least 6 chars</p>
                    }
                </div>
                }
            </div>
    
            <!-- Re-Password Field -->
            <div class="mb-5">
                <label for="rePassword" class="block mb-1 text-sm font-medium">Confirm Password:</label>
                <input [ngClass]="{
                    'is-valid': !RegisterForm.get('rePassword')?.errors && (RegisterForm.get('rePassword')?.touched || RegisterForm.get('rePassword')?.dirty),
                    'is-invalid': RegisterForm.get('rePassword')?.errors && (RegisterForm.get('rePassword')?.touched || RegisterForm.get('rePassword')?.dirty)
                }" type="password" id="rePassword" formControlName="rePassword"
                    class="w-full p-2.5 text-sm rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 bg-gray-50">
    
                @if(RegisterForm?.getError('mismatch') && (RegisterForm.get('rePassword')?.touched ||
                RegisterForm.get('rePassword')?.dirty)){
                <div class="bg-red-200  p-2 mt-2 mb-3 rounded">
                    @if(RegisterForm.get('rePassword')?.getError('required')){
                    <p>password is Required</p>
                    }
                    @else if(RegisterForm.get('password')?.getError('mismatch')){
                    <p>Password confirmation is incorrect</p>
                    }
    
    
                </div>
                }
            </div>
    
            <!-- Submit Button -->
            <button type="submit" class="link-style w-full mt-5 mb-5 p-3 text-white bg-blue-600 rounded-lg"
                [disabled]="RegisterForm.invalid || isLoading">
                @if(isLoading){
                <span class="pr-1">Register</span>
                <span><i class="fa fa-spinner fa-spin"></i></span>
                }
                @else{
                <span>Register</span>
                }
            </button>
    
        </form>

    </div>
</div>